/* DataTable.css */
.data-table-card {
    width: 100%;
    margin-top: 1rem;
}

/* Table container uses global tokens */
.data-table-container .ant-table {
    background: var(--bg-card);
    color: var(--text-primary);
}

/* Apply styles to Ant Design Table */
.data-table-container .ant-table {
    background: transparent;
    color: var(--text-primary);
}

.data-table-container .ant-table-thead > tr > th {
    background: var(--bg-secondary);
    color: var(--text-primary);
    border-bottom: 1px solid var(--border-light);
    font-weight: 600;
}

.data-table-container .ant-table-tbody > tr > td {
    border-bottom: 1px solid var(--border-light);
    color: var(--text-primary);
}

.data-table-container .ant-table-tbody > tr:hover > td {
    background: var(--bg-tertiary);
}

[data-theme='dark'] .data-table-container .ant-table-tbody > tr:hover > td {
    background: var(--bg-tertiary);
}

/* Pagination styles */
.data-table-container .ant-pagination-item,
.data-table-container .ant-pagination-prev .ant-pagination-item-link,
.data-table-container .ant-pagination-next .ant-pagination-item-link {
    background: transparent;
    border-color: var(--border-light);
    color: var(--text-primary);
}

.data-table-container .ant-pagination-item a {
    color: var(--text-primary);
}

.data-table-container .ant-pagination-item-active {
    background: var(--primary-500);
    border-color: var(--primary-500);
}

.data-table-container .ant-pagination-item-active a {
    color: #fff;
}

.data-table-container .ant-pagination-disabled .ant-pagination-item-link {
    background: var(--bg-secondary);
    color: var(--text-tertiary);
}

/* Card container theming using globals */
.data-table-card,
.data-table-card .ant-card-head,
.data-table-card .ant-card-body {
    background: var(--bg-card);
    color: var(--text-primary);
}

/* Make Card fully responsive flex column */
.data-table-card {
    display: flex;
    flex-direction: column;
    width: 100%;
    max-width: 100%;
    min-width: 0; /* allow children to shrink */
    box-sizing: border-box;
}

.data-table-card .ant-card-head,
.data-table-card .ant-card-body {
    width: 100%;
    max-width: 100%;
    min-width: 0;
}

.data-table-card .ant-card-body {
    flex: 1 1 auto;
    overflow-x: auto; /* enable inner horizontal scroll if needed */
}

/* Ensure inner table container cooperates with flex sizing */
.data-table-container {
    flex: 1 1 auto;
    min-width: 0;
}

.data-table-card .ant-card-head {
    border-bottom: 1px solid var(--border-light);
}

.data-table-card .ant-card-head-title {
    color: var(--text-primary);
    font-weight: 600;
}

/* Form and controls inside header */
.table-filters .ant-form-item-label > label {
    color: var(--text-secondary);
}

/* Inputs */
.data-table-form .ant-input,
.data-table-form .ant-input-affix-wrapper,
.data-table-form .ant-select-selector,
.data-table-form .ant-picker,
.data-table-form .ant-picker-input > input {
    background: var(--bg-primary);
    color: var(--text-primary);
    border-color: var(--border-light);
}

.data-table-form .ant-input:hover,
.data-table-form .ant-input-affix-wrapper:hover,
.data-table-form .ant-select:hover .ant-select-selector,
.data-table-form .ant-picker:hover {
    border-color: var(--primary-400);
}

.data-table-form .ant-input:focus,
.data-table-form .ant-input-affix-wrapper:focus,
.data-table-form .ant-select-focused .ant-select-selector,
.data-table-form .ant-picker-focused {
    border-color: var(--primary-500);
    box-shadow: 0 0 0 2px var(--primary-100);
}

/* AntD Select: increase specificity and handle states */
.data-table-form .ant-select .ant-select-selector {
    background: var(--bg-primary);
    color: var(--text-primary);
    border-color: var(--border-light);
}

.data-table-form .ant-select-single:not(.ant-select-customize-input) .ant-select-selector {
    background: var(--bg-primary);
    color: var(--text-primary);
    border-color: var(--border-light);
}

.data-table-form .ant-select-disabled .ant-select-selector {
    background: var(--bg-secondary);
    color: var(--text-secondary);
    border-color: var(--border-light);
}

.data-table-form .ant-select:hover .ant-select-selector,
.data-table-form .ant-select-focused .ant-select-selector,
.data-table-form .ant-select-open .ant-select-selector {
    border-color: var(--border-light);
    box-shadow: none;
}

.data-table-form .ant-select-selection-item,
.data-table-form .ant-select-selection-placeholder {
    color: var(--text-primary);
}

.data-table-form .ant-select-selection-placeholder {
    color: var(--text-tertiary);
}

.data-table-form .ant-select .ant-select-arrow svg,
.data-table-form .ant-select .ant-select-clear svg {
    fill: var(--text-primary);
}

/* Explicit dark override to ensure selector reflects dark mode */
[data-theme='dark'] .data-table-form .ant-select .ant-select-selector,
[data-theme='dark'] .data-table-form .ant-select-single:not(.ant-select-customize-input) .ant-select-selector {
    background: var(--bg-primary) !important;
    border-color: var(--border-light) !important;
    color: var(--text-primary) !important;
}

[data-theme='dark'] .data-table-form .ant-select .ant-select-selection-item,
[data-theme='dark'] .data-table-form .ant-select .ant-select-selection-placeholder {
    color: var(--text-primary);
}

.data-table-form .ant-input::placeholder,
.data-table-form .ant-picker-input > input::placeholder {
    color: var(--text-tertiary);
}

/* Select dropdown */
.ant-select-dropdown {
    background: var(--bg-card);
    color: var(--text-primary);
}

.ant-select-item {
    background: var(--bg-card);
    color: var(--text-primary);
}

.ant-select-item-option-active,
.ant-select-item-option-selected {
    background: var(--bg-tertiary);
}

.ant-select-item-option-selected {
    background: var(--primary-100);
    color: var(--primary-700);
}

[data-theme='dark'] .ant-select-dropdown,
[data-theme='dark'] .ant-select-item {
    background: var(--bg-card);
    color: var(--text-primary);
}

[data-theme='dark'] .ant-select-item-option-active,
[data-theme='dark'] .ant-select-item-option-selected {
    background: var(--bg-tertiary);
}

[data-theme='dark'] .ant-select-item-option-selected {
    background: var(--primary-600);
    color: var(--primary-50);
}

/* DatePicker panel */
.ant-picker-panel {
    background: var(--bg-card);
    color: var(--text-primary);
    border-color: var(--border-light);
}

.ant-picker-header,
.ant-picker-content th,
.ant-picker-content td {
    background: var(--bg-card);
    color: var(--text-primary);
    border-color: var(--border-light);
}

.ant-picker-cell-in-view.ant-picker-cell-selected .ant-picker-cell-inner,
.ant-picker-today-btn {
    background: var(--bg-tertiary);
    color: var(--text-primary);
}

.ant-picker-cell-in-view.ant-picker-cell-selected .ant-picker-cell-inner {
    background: var(--primary-500);
    color: white;
}

[data-theme='dark'] .ant-picker-panel,
[data-theme='dark'] .ant-picker-header,
[data-theme='dark'] .ant-picker-content th,
[data-theme='dark'] .ant-picker-content td {
    background: var(--bg-card);
    color: var(--text-primary);
    border-color: var(--border-light);
}

[data-theme='dark'] .ant-picker-cell-in-view.ant-picker-cell-selected .ant-picker-cell-inner,
[data-theme='dark'] .ant-picker-today-btn {
    background: var(--bg-tertiary);
    color: var(--text-primary);
}

[data-theme='dark'] .ant-picker-cell-in-view.ant-picker-cell-selected .ant-picker-cell-inner {
    background: var(--primary-600);
    color: white;
}

/* Buttons */
.search-button.ant-btn-primary {
    background: var(--primary-500);
    border-color: var(--primary-500);
    color: #fff;
}

.search-button.ant-btn-primary:hover {
    background: var(--primary-600);
    border-color: var(--primary-600);
}

.reset-button.ant-btn {
    background: transparent;
    color: var(--text-primary);
    border-color: var(--border-light);
}

.reset-button.ant-btn:hover {
    background: var(--bg-tertiary);
    border-color: var(--primary-400);
    color: var(--text-primary);
}

[data-theme='dark'] .search-button.ant-btn-primary {
    background: var(--primary-500);
    border-color: var(--primary-500);
    color: #fff;
}

[data-theme='dark'] .search-button.ant-btn-primary:hover {
    background: var(--primary-600);
    border-color: var(--primary-600);
}

[data-theme='dark'] .reset-button.ant-btn {
    background: transparent;
    color: var(--text-primary);
    border-color: var(--border-light);
}

[data-theme='dark'] .reset-button.ant-btn:hover {
    background: var(--bg-tertiary);
    border-color: var(--primary-400);
    color: var(--text-primary);
}

/* Loading states */
.data-table-container .ant-table-placeholder {
    background: var(--bg-card);
    color: var(--text-secondary);
}

.data-table-container .ant-table-placeholder .ant-table-expanded-row-fixed {
    background: transparent;
}

/* Empty state */
.data-table-container .ant-empty-description {
    color: var(--text-secondary);
}

/* Responsive Design */
@media (max-width: 768px) {
    .data-table-card {
        margin: 8px;
    }

    .data-table-card .ant-card-body {
        padding: 12px;
    }

    .table-filters .ant-form-item {
        margin-bottom: 12px;
    }

    /* Ajustar grid de filtros para mobile */
    .data-table-form > div {
        grid-template-columns: 1fr !important;
    }
}

/* Large screens */
@media (min-width: 1200px) {
    .data-table-form > div {
        grid-template-columns: repeat(auto-fill, minmax(250px, 1fr)) !important;
    }
}

/* Scrollbar styling */
.data-table-container ::-webkit-scrollbar {
    width: 6px;
    height: 6px;
}

.data-table-container ::-webkit-scrollbar-track {
    background: var(--bg-secondary);
}

.data-table-container ::-webkit-scrollbar-thumb {
    background: var(--border-light);
    border-radius: 3px;
}

.data-table-container ::-webkit-scrollbar-thumb:hover {
    background: var(--text-tertiary);
}